import{m as u,P as f,Q as w,R as g,S as c,_ as y}from"./entry.Xc9xFXNk.js";import{c as _,w as p,e as d,s as P,j as $,u as C}from"./utils.LEMHXzi7.js";const T=()=>async r=>{const{content:s}=u().public,a=r.params(),n=s.experimental.stripQueryParameters?p(`/query/${`${c(a)}.${s.integrity}`}/${d(a)}.json`):p(`/query/${c(a)}.${s.integrity}.json`);if(P())return(await y(()=>import("./client-db.PUSufBvK.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(e=>e.useContentDatabase())).fetch(r);const t=await $fetch(n,{method:"GET",responseType:"json",params:s.experimental.stripQueryParameters?void 0:{_params:$(a),previewToken:C().getPreviewToken()}});if(typeof t=="string"&&t.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return t};function L(r,...s){const{content:a}=u().public,n=_(T(),{initialParams:typeof r!="string"?r:{},legacy:!0});let t;typeof r=="string"&&(t=f(w(r,...s)));const i=n.params;return n.params=()=>{var o,h,l;const e=i();return t&&(e.where=e.where||[],e.first&&(e.where||[]).length===0?e.where.push({_path:g(t)}):e.where.push({_path:new RegExp(`^${t.replace(/[-[\]{}()*+.,^$\s/]/g,"\\$&")}`)})),(o=e.sort)!=null&&o.length||(e.sort=[{_file:1,$numeric:!0}]),a.locales.length&&((l=(h=e.where)==null?void 0:h.find(m=>m._locale))!=null&&l._locale||(e.where=e.where||[],e.where.push({_locale:a.defaultLocale}))),e},n}export{L as q};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./client-db.PUSufBvK.js","./entry.Xc9xFXNk.js","./utils.LEMHXzi7.js","./index.1dSrIji7.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
